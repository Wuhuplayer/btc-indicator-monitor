# 图表截图数字化回测使用说明

## 🎯 快速开始

### 1. 准备截图文件
把以下三张图表截图放到 `截图/` 文件夹中：

- `sth_mvrv_chart.png` - STH MVRV图表截图
- `whale_holdings_chart.png` - 鲸鱼持仓图表截图
- `lth_net_change_chart.png` - LTH净持仓变化图表截图

### 2. 运行数字化脚本
```bash
cd 图表数据策略
python3 图表截图数字化回测.py
```

### 3. 交互式校准
脚本运行后会打开每张图片，你需要：

**在每张图上点击4个校准点（按顺序）：**
1. **左下角** - 时间轴起点，数据轴最小值
2. **右下角** - 时间轴终点，数据轴最小值
3. **左上角** - 时间轴起点，数据轴最大值
4. **右上角** - 时间轴终点，数据轴最大值

**点击技巧：**
- 点击曲线上的点，确保准确
- 按回车键确认每个点
- 点击完4个点后自动进入下一张图

### 4. 自动识别曲线
脚本会：
- 自动识别曲线颜色和形状
- 数字化曲线上的数据点
- 创建时间序列数据
- 保存到 `数字化数据/` 文件夹

## 📊 输出结果

数字化完成后会生成：
- `数字化数据/digitized_sth_mvrv.csv` - STH MVRV数据
- `数字化数据/digitized_whale_holdings.csv` - 鲸鱼持仓数据
- `数字化数据/digitized_lth_net_change.csv` - LTH净持仓数据
- `数字化数据/merged_digitized_data.csv` - 合并后的完整数据

## 🎯 数据格式

生成的CSV文件包含：
- `date` - 日期
- `sth_mvrv` - STH MVRV值
- `whale_holdings_change` - 鲸鱼持仓变化百分比
- `lth_net_change_30d` - LTH净持仓变化（BTC数量）

## 🚀 下一步

数字化完成后，你可以用这些真实数据：
1. 运行 `基于图表数据的策略系统.py` 进行策略分析
2. 运行 `图表数据回测系统.py` 进行回测
3. 查看 `基于图表数据的BTC策略图表.html` 的可视化结果

## 💡 技巧

- **截图质量**：确保截图清晰，曲线可见
- **校准精度**：点击时要尽量准确，影响最终数据精度
- **曲线颜色**：脚本会自动识别橙色、紫色、绿色曲线
- **时间范围**：确保截图包含完整的图表时间轴

这样就能直接从你的专业图表中提取真实数据，不需要手动提取了！
